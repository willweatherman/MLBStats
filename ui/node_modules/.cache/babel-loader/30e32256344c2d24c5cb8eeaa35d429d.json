{"ast":null,"code":"import store from './store.js';\nfetch('/Tasks').then(response => {\n  return response.json();\n}).then(data => {\n  console.log(data);\n  let obj = {};\n  let arr = [];\n\n  const Tasks = data._embedded.Tasks.map(task => {\n    console.log(task);\n    obj[task.name] = task.tasks;\n    arr = arr.concat(task.name);\n    console.log(arr);\n  });\n\n  const newstate = {\n    ToDoObject: obj,\n    ToDoList: arr,\n    CurrentList: arr[0]\n  };\n  console.log(newstate);\n  store.dispatch({\n    type: \"UPDATE_STATE\",\n    state: newstate\n  });\n});\n\nvar postTasks = json => {\n  fetch(\"/Tasks\", {\n    method: \"POST\",\n    body: json,\n    //\"{\\\"name\\\":\\\"oldnamenew\\\",\\\"tasks\\\":[{\\\"name\\\":\\\"nameone\\\"},{\\\"name\\\":\\\"nametwo\\\"}]}\",\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  });\n};\n\nvar deleteTask = id => {\n  fetch(\"/Tasks/\" + id, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  });\n};","map":{"version":3,"sources":["/Users/willweatherman/gs-accessing-mongodb-data-rest/ui/src/api.js"],"names":["store","fetch","then","response","json","data","console","log","obj","arr","Tasks","_embedded","map","task","name","tasks","concat","newstate","ToDoObject","ToDoList","CurrentList","dispatch","type","state","postTasks","method","body","headers","deleteTask","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACAC,KAAK,CAAC,QAAD,CAAL,CAAgBC,IAAhB,CAAsBC,QAAD,IAAc;AAAE,SAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,CAA9D,EAAgEF,IAAhE,CAAsEG,IAAD,IAAU;AACvEC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,MAAIG,GAAG,GAAG,EAAV;AACA,MAAIC,GAAG,GAAG,EAAV;;AACA,QAAMC,KAAK,GAAGL,IAAI,CAACM,SAAL,CAAeD,KAAf,CAAqBE,GAArB,CAAyBC,IAAI,IAAI;AAC3CP,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AACAL,IAAAA,GAAG,CAACK,IAAI,CAACC,IAAN,CAAH,GAAiBD,IAAI,CAACE,KAAtB;AACAN,IAAAA,GAAG,GAAGA,GAAG,CAACO,MAAJ,CAAWH,IAAI,CAACC,IAAhB,CAAN;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,GALa,CAAd;;AAMA,QAAMQ,QAAQ,GAAG;AACbC,IAAAA,UAAU,EAAEV,GADC;AAEbW,IAAAA,QAAQ,EAAEV,GAFG;AAGbW,IAAAA,WAAW,EAAEX,GAAG,CAAC,CAAD;AAHH,GAAjB;AAKAH,EAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ;AACAjB,EAAAA,KAAK,CAACqB,QAAN,CAAe;AAACC,IAAAA,IAAI,EAAE,cAAP;AAAuBC,IAAAA,KAAK,EAAEN;AAA9B,GAAf;AACH,CAjBL;;AAmBA,IAAIO,SAAS,GAAIpB,IAAD,IAAU;AACtBH,EAAAA,KAAK,CAAC,QAAD,EAAW;AACZwB,IAAAA,MAAM,EAAE,MADI;AAEZC,IAAAA,IAAI,EAAEtB,IAFM;AAGZ;AACAuB,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAJG,GAAX,CAAL;AAQH,CATD;;AAUA,IAAIC,UAAU,GAAIC,EAAD,IAAQ;AACrB5B,EAAAA,KAAK,CAAC,YAAW4B,EAAZ,EAAgB;AACjBJ,IAAAA,MAAM,EAAE,QADS;AAEjBE,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFQ,GAAhB,CAAL;AAMH,CAPD","sourcesContent":["import store from './store.js'\nfetch('/Tasks').then((response) => { return response.json(); }).then((data) => {\n        console.log(data);\n        let obj = {}\n        let arr = []\n        const Tasks = data._embedded.Tasks.map(task => {\n            console.log(task)\n            obj[task.name] = task.tasks\n            arr = arr.concat(task.name)\n            console.log(arr)\n        })\n        const newstate = {\n            ToDoObject: obj,\n            ToDoList: arr,\n            CurrentList: arr[0]\n        }\n        console.log(newstate)\n        store.dispatch({type: \"UPDATE_STATE\", state: newstate})\n    });\n\nvar postTasks = (json) => {\n    fetch(\"/Tasks\", {\n        method: \"POST\",\n        body: json,\n        //\"{\\\"name\\\":\\\"oldnamenew\\\",\\\"tasks\\\":[{\\\"name\\\":\\\"nameone\\\"},{\\\"name\\\":\\\"nametwo\\\"}]}\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n    })\n}\nvar deleteTask = (id) => {\n    fetch(\"/Tasks/\"+ id, {\n        method: \"DELETE\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n    })\n}\n"]},"metadata":{},"sourceType":"module"}