{"ast":null,"code":"import React from'react';import'../stylesheets/home.css';import{connect}from'react-redux';import store from\"../store\";import{useHistory}from\"react-router-dom\";import{deleteTeam}from'../api';function random(){return Math.random();}// Functions to limit the amount of teams displayed\nfunction filter(stats,filterSection,filterBar,searchSection,searchBar,currentList,operator){if(stats===[])return stats;//filter...\nfilterBar=filterBar===''||filterBar==='0'?0:filterBar.toString().replace(/^0+/,'');stats=stats.filter(function(team){var number=team.stats[currentList.toLowerCase()][filterSection];console.log(parseInt(number),operator,filterBar);if(operator==='>'){return parseInt(number)>filterBar;}else if(operator==='='){return parseInt(number)===filterBar;}else{return parseInt(number)<filterBar;}});//search...\nreturn stats.filter(function(team){var regex=new RegExp(searchBar,'gi');return team.team[searchSection.toLowerCase()].match(regex);});}function sort(state,sortName,currentList){if(state===[])return state;state.sort(function(a,b){if(sortName===\"city\"||sortName===\"name\"||sortName===\"abbreviation\"||sortName===\"officialLogoImageSrc\")return a.team[sortName].toLowerCase()>=b.team[sortName].toLowerCase()?1:-1;if(currentList===\"Standings\")return a.stats.standings[sortName]<=b.stats.standings[sortName]?1:-1;if(currentList===\"Batting\")return a.stats.batting[sortName]<=b.stats.batting[sortName]?1:-1;if(currentList===\"Pitching\")return a.stats.pitching[sortName]<=b.stats.pitching[sortName]?1:-1;if(currentList===\"Fielding\")return a.stats.fielding[sortName]<=b.stats.fielding[sortName]?1:-1;});return state;}//Function to parse the mlb_stats and return a iterable list and objects\nfunction genFields(mlbStats,currSection){if(mlbStats==null)return{\"stats\":[],\"info\":[]};var stats=[];var info=[];Object.entries(mlbStats[0].team).map(function(keyValue){return stats=stats.concat(keyValue[0]);});var currentlist=currSection.toLowerCase();Object.entries(mlbStats[0].stats[currentlist]).map(function(keyValue){return stats=stats.concat(keyValue[0]);});mlbStats.map(function(team){var obj={};Object.entries(team.team).map(function(keyValue){return obj[keyValue[0]]=keyValue[1];});Object.entries(team.stats[currentlist]).map(function(keyValue){return obj[keyValue[0]]=keyValue[1];});return info=info.concat(obj);});return{\"stats\":stats,\"info\":info};}//helper functions to display items on the page\nfunction teams(mlbData,sortName){return mlbData.stats.map(function(i){var counter=1;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"Column\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){changeSort(i);},className:\"contentButton \"+(sortName===i?\"active\":\"\")},i),mlbData.info.map(function(y){counter++;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"Field\",style:counter%2===0?{backgroundColor:\"gray\"}:{}},i===\"officialLogoImageSrc\"?/*#__PURE__*/React.createElement(\"img\",{alt:\"\",className:\"Image\",src:y[i]}):y[i]);}));});}function trashCans(state){var counter=1;return state.map(function(TeamObj){counter++;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"TrashCans Field\",style:counter%2===0?{backgroundColor:\"gray\"}:{}},/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(e){removeTeam(e,TeamObj);},className:\"Clickable fa fa-trash fa-2x\"}));});}function options(mlbstats,currentList,filterSection){var arrayOfHtml=[];Object.entries(mlbstats[0].stats[currentList.toLowerCase()]).map(function(keyValue){if(keyValue[0]===filterSection)return arrayOfHtml.unshift(/*#__PURE__*/React.createElement(\"option\",{key:random(),value:keyValue[0]},keyValue[0]));arrayOfHtml.push(/*#__PURE__*/React.createElement(\"option\",{key:random(),value:keyValue[0]},keyValue[0]));});return arrayOfHtml;}//Functions that use the dispatch to the store\nfunction searchBar(e){store.dispatch({type:\"UPDATE_SEARCH_BAR\",text:e.target.value});}function searchSection(section){store.dispatch({type:\"UPDATE_SEARCH_SECTION\",text:section});}function filterBar(e){store.dispatch({type:\"UPDATE_FILTER_BAR\",text:e.target.value});}function filterSection(section){store.dispatch({type:\"UPDATE_FILTER_SECTION\",text:section});}function changeOperator(oper){store.dispatch({type:\"UPDATE_OPPERATOR\",text:oper});}function changeSort(i){store.dispatch({type:\"CHANGE_SORT\",sortName:i});}function changeList(newList,sortedState){store.dispatch({type:\"CHANGE_LIST\",text:newList});store.dispatch({type:\"UPDATE_FILTER_SECTION\",text:Object.entries(sortedState[0].stats[newList.toLowerCase()])[0][0]});}//Helper function to delete a team\nfunction removeTeam(e,TeamObj){deleteTeam(TeamObj._links.self.href.replace(\"http://localhost:9000\",\"\"));alert(\"Deleted Team \"+TeamObj.team.name);}// App.js\nfunction Home(props){var history=useHistory();var filteredState=filter(props.mlbStats,props.filterSection,props.filterBar,props.searchSection,props.searchBar,props.currentList,props.operator);var sortedState=sort(filteredState,props.sortName,props.currentList);return/*#__PURE__*/React.createElement(\"div\",{className:\"home\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){history.push('/CreateTeam');},className:\"formButton\"},\"Create Team\"),/*#__PURE__*/React.createElement(\"div\",{className:\"customContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contentHeader\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){changeList(\"Standings\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Standings\"?\"active\":\"\")},\"Over View\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){changeList(\"Batting\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Batting\"?\"active\":\"\")},\"Batting\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){changeList(\"Pitching\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Pitching\"?\"active\":\"\")},\"Pitching\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){changeList(\"Fielding\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Fielding\"?\"active\":\"\")},\"Fielding\")),/*#__PURE__*/React.createElement(\"div\",{className:\"contentFilter\"},/*#__PURE__*/React.createElement(\"form\",{className:\"Filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto form-row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mr-sm-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){searchSection(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},/*#__PURE__*/React.createElement(\"option\",{value:\"city\",defaultValue:true},\"City\"),/*#__PURE__*/React.createElement(\"option\",{value:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"option\",{value:\"abbreviation\"},\"Abbreviation\")))),/*#__PURE__*/React.createElement(\"input\",{onInput:function onInput(e){searchBar(e);},type:\"text\",className:\"form-control\",id:\"inlineFormInputGroupUsername\"}))))),/*#__PURE__*/React.createElement(\"form\",{className:\"Filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto form-row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mr-sm-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){filterSection(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},props.mlbStats.length>0?options(props.mlbStats,props.currentList,props.filterSection):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){changeOperator(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},/*#__PURE__*/React.createElement(\"option\",{value:\">\",defaultValue:true},\">\"),/*#__PURE__*/React.createElement(\"option\",{value:\"=\"},\"=\"),/*#__PURE__*/React.createElement(\"option\",{value:\"<\"},\"<\")))),/*#__PURE__*/React.createElement(\"input\",{onKeyPress:function onKeyPress(e){if(isNaN(e.key))e.preventDefault();},onInput:function onInput(e){filterBar(e);},type:\"text\",className:\"form-control\",id:\"inlineFormInputGroupUsername\",defaultValue:\"0\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"ColumnContainer\"},sortedState.length>0?teams(genFields(sortedState,props.currentList),props.sortName):null,/*#__PURE__*/React.createElement(\"div\",{className:\"Column\"},/*#__PURE__*/React.createElement(\"button\",{className:\"contentButton\"},\"Delete Team\"),trashCans(sortedState)))));}var mapStateToProps=function mapStateToProps(state){return{mlbStats:state.mlb_stats,searchBar:state.search_bar,searchSection:state.search_section,sortName:state.sort_name,filterBar:state.filter_bar,filterSection:state.filter_section,currentList:state.current_list,operator:state.operator};};//function lower case cammle case\n//\nvar mapDispatchToProps={};var HomeContainer=connect(mapStateToProps,mapDispatchToProps)(Home);export default HomeContainer;","map":{"version":3,"sources":["/Users/willweatherman/gs-accessing-mongodb-data-rest/ui/src/components/home.js"],"names":["React","connect","store","useHistory","deleteTeam","random","Math","filter","stats","filterSection","filterBar","searchSection","searchBar","currentList","operator","toString","replace","team","number","toLowerCase","console","log","parseInt","regex","RegExp","match","sort","state","sortName","a","b","standings","batting","pitching","fielding","genFields","mlbStats","currSection","info","Object","entries","map","keyValue","concat","currentlist","obj","teams","mlbData","i","counter","changeSort","y","backgroundColor","trashCans","TeamObj","e","removeTeam","options","mlbstats","arrayOfHtml","unshift","push","dispatch","type","text","target","value","section","changeOperator","oper","changeList","newList","sortedState","_links","self","href","alert","name","Home","props","history","filteredState","length","isNaN","key","preventDefault","mapStateToProps","mlb_stats","search_bar","search_section","sort_name","filter_bar","filter_section","current_list","mapDispatchToProps","HomeContainer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../stylesheets/home.css';\nimport { connect } from 'react-redux';\nimport store from \"../store\";\nimport { useHistory } from \"react-router-dom\";\nimport { deleteTeam } from '../api'\n\nfunction random() {\n    return Math.random();\n}\n\n\n// Functions to limit the amount of teams displayed\nfunction filter(stats, filterSection, filterBar, searchSection, searchBar, currentList, operator) {\n    if (stats === []) return stats;\n    //filter...\n    filterBar = (filterBar === '' || filterBar === '0') ? 0 : filterBar.toString().replace(/^0+/, '');\n    stats = stats.filter(team => {\n        const number = team.stats[currentList.toLowerCase()][filterSection]\n        console.log(parseInt(number), operator, filterBar)\n        if (operator === '>') {\n            return (parseInt(number) > filterBar)\n        } else if (operator === '=') {\n            return (parseInt(number) === filterBar)\n        } else {\n            return (parseInt(number) < filterBar)\n        }\n    })\n    //search...\n    return stats.filter(team => {\n        const regex = new RegExp(searchBar, 'gi');\n        return team.team[searchSection.toLowerCase()].match(regex)\n    });\n}\nfunction sort(state, sortName, currentList) {\n    if (state === []) return state;\n    state.sort((a, b) => {\n        if (sortName === \"city\" || sortName === \"name\" || sortName === \"abbreviation\" || sortName === \"officialLogoImageSrc\") return (a.team[sortName].toLowerCase() >= b.team[sortName].toLowerCase()) ? 1 : -1\n        if (currentList === \"Standings\") return (a.stats.standings[sortName] <= b.stats.standings[sortName]) ? 1 : -1\n        if (currentList === \"Batting\") return (a.stats.batting[sortName] <= b.stats.batting[sortName]) ? 1 : -1\n        if (currentList === \"Pitching\") return (a.stats.pitching[sortName] <= b.stats.pitching[sortName]) ? 1 : -1\n        if (currentList === \"Fielding\") return (a.stats.fielding[sortName] <= b.stats.fielding[sortName]) ? 1 : -1\n    })\n\n    return state\n}\n\n\n\n//Function to parse the mlb_stats and return a iterable list and objects\nfunction genFields(mlbStats, currSection) {\n    if (mlbStats == null) return {\"stats\": [], \"info\": []}\n    let stats = []\n    let info = []\n    Object.entries(mlbStats[0].team).map(keyValue => {\n        return stats = stats.concat(keyValue[0])\n    })\n    const currentlist = currSection.toLowerCase()\n    Object.entries(mlbStats[0].stats[currentlist]).map(keyValue => {\n        return stats = stats.concat(keyValue[0])\n    });\n    mlbStats.map(team => {\n        let obj = {};\n        Object.entries(team.team).map(keyValue => {\n            return obj[keyValue[0]] = keyValue[1]\n        });\n        Object.entries(team.stats[currentlist]).map(keyValue => {\n            return obj[keyValue[0]] = keyValue[1]\n        });\n        return info = info.concat(obj)\n    });\n    return {\"stats\": stats, \"info\": info}\n}\n\n\n\n//helper functions to display items on the page\nfunction teams(mlbData, sortName) {\n    return mlbData.stats.map(i => {\n        let counter = 1\n        return (\n            <div key={random()} className=\"Column\">\n                <button onClick={() => {changeSort(i)}} className={\"contentButton \" + (sortName === i ? \"active\": \"\")}>\n                    {i}\n                </button>\n                {\n                    mlbData.info.map(y => {\n                        counter++\n                        return (\n                            <div key={random()} className=\"Field\" style={(counter % 2 === 0 ? {backgroundColor: \"gray\"} : {} )}>\n                                {\n                                    (i === \"officialLogoImageSrc\") ? <img alt=\"\" className=\"Image\" src={y[i]}/> : y[i]\n                                }\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        )\n    })\n}\nfunction trashCans(state) {\n    let counter = 1\n    return state.map( TeamObj =>{\n        counter++\n        return (\n            <div key={random()} className=\"TrashCans Field\" style={(counter % 2 === 0 ? {backgroundColor: \"gray\"} : {} )}>\n                <i onClick={(e) => {removeTeam(e, TeamObj)}} className=\"Clickable fa fa-trash fa-2x\"></i>\n            </div>\n        )\n    })\n}\nfunction options(mlbstats, currentList, filterSection) {\n    let arrayOfHtml = []\n    Object.entries(mlbstats[0].stats[currentList.toLowerCase()]).map(keyValue => {\n        if (keyValue[0] === filterSection) return arrayOfHtml.unshift(<option key={random()} value={keyValue[0]}>{keyValue[0]}</option>)\n        arrayOfHtml.push(<option key={random()} value={keyValue[0]}>{keyValue[0]}</option>)\n    })\n    return arrayOfHtml\n}\n\n\n//Functions that use the dispatch to the store\nfunction searchBar(e) {\n    store.dispatch({type: \"UPDATE_SEARCH_BAR\", text: e.target.value})\n}\n\nfunction searchSection(section) {\n    store.dispatch({type: \"UPDATE_SEARCH_SECTION\", text: section})\n}\n\nfunction filterBar(e) {\n    store.dispatch({type: \"UPDATE_FILTER_BAR\", text: e.target.value})\n}\n\nfunction filterSection(section) {\n    store.dispatch({type: \"UPDATE_FILTER_SECTION\", text: section})\n}\n\nfunction changeOperator(oper) {\n    store.dispatch({type: \"UPDATE_OPPERATOR\", text: oper})\n}\nfunction changeSort(i) {\n    store.dispatch({type: \"CHANGE_SORT\", sortName: i})\n}\nfunction changeList(newList, sortedState) {\n    store.dispatch({type: \"CHANGE_LIST\", text: newList})\n    store.dispatch({type: \"UPDATE_FILTER_SECTION\", text: Object.entries(sortedState[0].stats[newList.toLowerCase()])[0][0]})\n}\n\n//Helper function to delete a team\nfunction removeTeam(e, TeamObj) {\n    deleteTeam(TeamObj._links.self.href.replace(\"http://localhost:9000\", \"\"))\n    alert(\"Deleted Team \" + TeamObj.team.name)\n}\n\n\n\n// App.js\nfunction Home(props) {\n        let history = useHistory();\n        const filteredState = filter(props.mlbStats, props.filterSection, props.filterBar, props.searchSection, props.searchBar, props.currentList, props.operator)\n        const sortedState = sort(filteredState, props.sortName, props.currentList)\n        return (\n            <div className=\"home\">\n                <div className=\"header\">\n\n               </div>\n                <button onClick={() => {history.push('/CreateTeam')}} className=\"formButton\">Create Team</button>\n                <div className=\"customContainer\">\n                    <div className=\"contentHeader\">\n                        <button onClick={() => {changeList(\"Standings\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Standings\" ? \"active\": \"\")}>Over View</button>\n                        <button onClick={() => {changeList(\"Batting\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Batting\" ? \"active\": \"\")}>Batting</button>\n                        <button onClick={() => {changeList(\"Pitching\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Pitching\" ? \"active\": \"\")}>Pitching</button>\n                        <button onClick={() => {changeList(\"Fielding\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Fielding\" ? \"active\": \"\")}>Fielding</button>\n                    </div>\n                    <div className=\"contentFilter\">\n                        <form className=\"Filter\">\n                            <div className=\"mx-auto form-row align-items-center\">\n                                <div className=\"col-lg-12 my-4\">\n                                    <div className=\"input-group mr-sm-2\">\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {searchSection(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    <option value=\"city\" defaultValue>City</option>\n                                                    <option value=\"name\">Name</option>\n                                                    <option value=\"abbreviation\">Abbreviation</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <input onInput={(e) => {searchBar(e)}}  type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <form className=\"Filter\">\n                            <div className=\"mx-auto form-row align-items-center\">\n                                <div className=\"col-lg-12 my-4\">\n                                    <div className=\"input-group mr-sm-2\">\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {filterSection(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    {(props.mlbStats.length > 0) ? options(props.mlbStats, props.currentList, props.filterSection) : null}\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {changeOperator(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    <option value=\">\" defaultValue>{\">\"}</option>\n                                                    <option value=\"=\">=</option>\n                                                <option value=\"<\">{\"<\"}</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <input onKeyPress={(e) => {\n                                            if (isNaN(e.key)) e.preventDefault()\n                                        }} onInput={(e) => {filterBar(e)}} type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername\" defaultValue=\"0\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div className=\"ColumnContainer\">\n                        {(sortedState.length > 0) ? teams(genFields(sortedState, props.currentList), props.sortName) : null}\n                        <div className=\"Column\">\n                            <button className=\"contentButton\">\n                                Delete Team\n                            </button>\n                            {\n                                trashCans(sortedState)\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n}\n\nconst mapStateToProps = state => ({\n    mlbStats: state.mlb_stats,\n    searchBar: state.search_bar,\n    searchSection: state.search_section,\n    sortName: state.sort_name,\n    filterBar: state.filter_bar,\n    filterSection: state.filter_section,\n    currentList: state.current_list,\n    operator: state.operator\n});\n\n//function lower case cammle case\n//\n\nconst mapDispatchToProps = {\n};\n\nconst HomeContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Home);\n\nexport default HomeContainer;\n"]},"metadata":{},"sourceType":"module"}