{"ast":null,"code":"import store from './store.js';\nexport async function getAllTeams() {\n  store.dispatch({\n    type: \"CLEAR_MLB_STATS\"\n  });\n  await fetch('/Teams').then(response => {\n    return response.json();\n  }).then(data => {\n    data.page.totalPages.map(pageNum => {\n      getTeam(pageNum);\n    });\n  });\n}\n\nfunction getTeam(pagenum = 0) {\n  fetch('/Teams?page=' + pagenum).then(response => {\n    return response.json();\n  }).then(data => {\n    store.dispatch({\n      type: \"ADD_MLB_STATS\",\n      state: data._embedded\n    });\n  });\n}\n\nexport async function postTeam(json) {\n  console.log(json);\n  await fetch(\"/Teams\", {\n    method: \"POST\",\n    body: JSON.stringify(json),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  });\n  getAllTeams();\n}\nexport function deleteTask(id) {\n  fetch(\"/Teams/\" + id, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  });\n}","map":{"version":3,"sources":["/Users/willweatherman/gs-accessing-mongodb-data-rest/ui/src/api.js"],"names":["store","getAllTeams","dispatch","type","fetch","then","response","json","data","page","totalPages","map","pageNum","getTeam","pagenum","state","_embedded","postTeam","console","log","method","body","JSON","stringify","headers","deleteTask","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AAEA,OAAO,eAAeC,WAAf,GAA6B;AAChCD,EAAAA,KAAK,CAACE,QAAN,CAAe;AAACC,IAAAA,IAAI,EAAE;AAAP,GAAf;AACA,QAAMC,KAAK,CAAC,QAAD,CAAL,CAAgBC,IAAhB,CAAsBC,QAAD,IAAc;AACrC,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAFK,EAEHF,IAFG,CAEGG,IAAD,IAAU;AACdA,IAAAA,IAAI,CAACC,IAAL,CAAUC,UAAV,CAAqBC,GAArB,CAAyBC,OAAO,IAAI;AAChCC,MAAAA,OAAO,CAACD,OAAD,CAAP;AACH,KAFD;AAGH,GANK,CAAN;AAOH;;AAED,SAASC,OAAT,CAAiBC,OAAO,GAAG,CAA3B,EAA8B;AAC1BV,EAAAA,KAAK,CAAC,iBAAgBU,OAAjB,CAAL,CAA+BT,IAA/B,CAAqCC,QAAD,IAAc;AAC9C,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAFD,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdR,IAAAA,KAAK,CAACE,QAAN,CAAe;AAACC,MAAAA,IAAI,EAAE,eAAP;AAAwBY,MAAAA,KAAK,EAAEP,IAAI,CAACQ;AAApC,KAAf;AACH,GAJD;AAKH;;AACD,OAAO,eAAeC,QAAf,CAAwBV,IAAxB,EAA8B;AACjCW,EAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACA,QAAMH,KAAK,CAAC,QAAD,EAAW;AAClBgB,IAAAA,MAAM,EAAE,MADU;AAElBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAehB,IAAf,CAFY;AAGlBiB,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAHS,GAAX,CAAX;AAOAvB,EAAAA,WAAW;AACd;AACD,OAAO,SAASwB,UAAT,CAAoBC,EAApB,EAAwB;AAC3BtB,EAAAA,KAAK,CAAC,YAAWsB,EAAZ,EAAgB;AACjBN,IAAAA,MAAM,EAAE,QADS;AAEjBI,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFQ,GAAhB,CAAL;AAMH","sourcesContent":["import store from './store.js'\n\nexport async function getAllTeams() {\n    store.dispatch({type: \"CLEAR_MLB_STATS\"})\n    await fetch('/Teams').then((response) => {\n        return response.json();\n    }).then((data) => {\n        data.page.totalPages.map(pageNum => {\n            getTeam(pageNum)\n        })\n    })\n}\n\nfunction getTeam(pagenum = 0) {\n    fetch('/Teams?page='+ pagenum).then((response) => {\n        return response.json();\n    }).then((data) => {\n        store.dispatch({type: \"ADD_MLB_STATS\", state: data._embedded})\n    })\n}\nexport async function postTeam(json) {\n    console.log(json)\n    await fetch(\"/Teams\", {\n        method: \"POST\",\n        body: JSON.stringify(json),\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n    });\n    getAllTeams()\n}\nexport function deleteTask(id) {\n    fetch(\"/Teams/\"+ id, {\n        method: \"DELETE\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n    })\n}\n\n\n"]},"metadata":{},"sourceType":"module"}