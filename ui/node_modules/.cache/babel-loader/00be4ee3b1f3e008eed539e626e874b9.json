{"ast":null,"code":"import React from'react';import'../stylesheets/home.css';import{connect}from'react-redux';import store from\"../store\";import{useHistory}from\"react-router-dom\";import{deleteTeam}from'../api';function random(){return Math.random();}// Functions to limit the amount of teams displayed\nfunction Filter(stats,filterSection,filterBar,searchSection,searchBar,currentList,opperator){if(stats===[])return stats;//filter...\nfilterBar=filterBar===''||filterBar==='0'?0:filterBar.toString().replace(/^0+/,'');stats=stats.filter(function(team){var number=team.stats[currentList.toLowerCase()][filterSection];opperator=opperator==='='?'===':opperator;return eval(number+\" \"+opperator+\" \"+filterBar);});//search...\nreturn stats.filter(function(team){var regex=new RegExp(searchBar,'gi');return team.team[searchSection.toLowerCase()].match(regex);});}function Sort(state,sortName,currentList){if(state===[])return state;state.sort(function(a,b){if(sortName===\"city\"||sortName===\"name\"||sortName===\"abbreviation\"||sortName===\"officialLogoImageSrc\")return a.team[sortName].toLowerCase()>=b.team[sortName].toLowerCase()?1:-1;if(currentList===\"Standings\")return a.stats.standings[sortName]<=b.stats.standings[sortName]?1:-1;if(currentList===\"Batting\")return a.stats.batting[sortName]<=b.stats.batting[sortName]?1:-1;if(currentList===\"Pitching\")return a.stats.pitching[sortName]<=b.stats.pitching[sortName]?1:-1;if(currentList===\"Fielding\")return a.stats.fielding[sortName]<=b.stats.fielding[sortName]?1:-1;});return state;}//Function to parse the mlb_stats and return a iterable list and objects\nfunction genFields(mlbStats,currSection){if(mlbStats==null)return{\"stats\":[],\"info\":[]};var stats=[];var info=[];Object.entries(mlbStats[0].team).map(function(keyValue){return stats=stats.concat(keyValue[0]);});var currentlist=currSection.toLowerCase();Object.entries(mlbStats[0].stats[currentlist]).map(function(keyValue){return stats=stats.concat(keyValue[0]);});mlbStats.map(function(team){var obj={};Object.entries(team.team).map(function(keyValue){return obj[keyValue[0]]=keyValue[1];});Object.entries(team.stats[currentlist]).map(function(keyValue){return obj[keyValue[0]]=keyValue[1];});return info=info.concat(obj);});return{\"stats\":stats,\"info\":info};}//helper functions to display items on the page\nfunction Teams(mlbData,sortName){return mlbData.stats.map(function(i){var counter=1;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"Column\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){ChangeSort(i);},className:\"contentButton \"+(sortName===i?\"active\":\"\")},i),mlbData.info.map(function(y){counter++;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"Field\",style:counter%2===0?{backgroundColor:\"gray\"}:{}},i===\"officialLogoImageSrc\"?/*#__PURE__*/React.createElement(\"img\",{alt:\"\",className:\"Image\",src:y[i]}):y[i]);}));});}function TrashCans(state){var counter=1;return state.map(function(TeamObj){counter++;return/*#__PURE__*/React.createElement(\"div\",{key:random(),className:\"TrashCans Field\",style:counter%2===0?{backgroundColor:\"gray\"}:{}},/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(e){Delete(e,TeamObj);},className:\"Clickable fa fa-trash fa-2x\"}));});}function Options(mlbstats,currentList,filterSection){var arrayOfHtml=[];Object.entries(mlbstats[0].stats[currentList.toLowerCase()]).map(function(keyValue){if(keyValue[0]===filterSection)return arrayOfHtml.unshift(/*#__PURE__*/React.createElement(\"option\",{key:random(),value:keyValue[0]},keyValue[0]));arrayOfHtml.push(/*#__PURE__*/React.createElement(\"option\",{key:random(),value:keyValue[0]},keyValue[0]));});return arrayOfHtml;}//Functions that use the dispatch to the store\nfunction SearchBar(e){store.dispatch({type:\"UPDATE_SEARCH_BAR\",text:e.target.value});}function SearchSection(section){store.dispatch({type:\"UPDATE_SEARCH_SECTION\",text:section});}function FilterBar(e){store.dispatch({type:\"UPDATE_FILTER_BAR\",text:e.target.value});}function FilterSection(section){store.dispatch({type:\"UPDATE_FILTER_SECTION\",text:section});}function ChangeOperator(oper){store.dispatch({type:\"UPDATE_OPPERATOR\",text:oper});}function ChangeSort(i){store.dispatch({type:\"CHANGE_SORT\",sortName:i});}function ChangeList(newList,sortedState){store.dispatch({type:\"CHANGE_LIST\",text:newList});store.dispatch({type:\"UPDATE_FILTER_SECTION\",text:Object.entries(sortedState[0].stats[newList.toLowerCase()])[0][0]});}//Helper function to delete a team\nfunction Delete(e,TeamObj){deleteTeam(TeamObj._links.self.href.replace(\"http://localhost:9000\",\"\"));alert(\"Deleted Team \"+TeamObj.team.name);}// App.js\nfunction Home(props){var history=useHistory();var filteredState=Filter(props.mlbStats,props.filterSection,props.filterBar,props.searchSection,props.searchBar,props.currentList,props.opperator);var sortedState=Sort(filteredState,props.sortName,props.currentList);return/*#__PURE__*/React.createElement(\"div\",{className:\"home\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){history.push('/CreateTeam');},className:\"formButton\"},\"Create Team\"),/*#__PURE__*/React.createElement(\"div\",{className:\"customContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contentHeader\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){ChangeList(\"Standings\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Standings\"?\"active\":\"\")},\"Over View\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){ChangeList(\"Batting\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Batting\"?\"active\":\"\")},\"Batting\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){ChangeList(\"Pitching\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Pitching\"?\"active\":\"\")},\"Pitching\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){ChangeList(\"Fielding\",props.mlbStats);},className:\"contentButton \"+(props.currentList===\"Fielding\"?\"active\":\"\")},\"Fielding\")),/*#__PURE__*/React.createElement(\"div\",{className:\"contentFilter\"},/*#__PURE__*/React.createElement(\"form\",{className:\"Filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto form-row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mr-sm-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){SearchSection(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},/*#__PURE__*/React.createElement(\"option\",{value:\"city\",defaultValue:true},\"City\"),/*#__PURE__*/React.createElement(\"option\",{value:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"option\",{value:\"abbreviation\"},\"Abbreviation\")))),/*#__PURE__*/React.createElement(\"input\",{onInput:function onInput(e){SearchBar(e);},type:\"text\",className:\"form-control\",id:\"inlineFormInputGroupUsername\"}))))),/*#__PURE__*/React.createElement(\"form\",{className:\"Filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto form-row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mr-sm-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){FilterSection(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},props.mlbStats.length>0?Options(props.mlbStats,props.currentList,props.filterSection):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){ChangeOperator(e.target.value);},className:\"custom-select mr-sm-2\",id:\"inlineFormCustomSelect\"},/*#__PURE__*/React.createElement(\"option\",{value:\">\",defaultValue:true},\">\"),/*#__PURE__*/React.createElement(\"option\",{value:\"=\"},\"=\"),/*#__PURE__*/React.createElement(\"option\",{value:\"<\"},\"<\")))),/*#__PURE__*/React.createElement(\"input\",{onKeyPress:function onKeyPress(e){if(isNaN(e.key))e.preventDefault();},onInput:function onInput(e){FilterBar(e);},type:\"text\",className:\"form-control\",id:\"inlineFormInputGroupUsername\",defaultValue:\"0\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"ColumnContainer\"},sortedState.length>0?Teams(genFields(sortedState,props.currentList),props.sortName):null,/*#__PURE__*/React.createElement(\"div\",{className:\"Column\"},/*#__PURE__*/React.createElement(\"button\",{className:\"contentButton\"},\"Delete Team\"),TrashCans(sortedState)))));}var mapStateToProps=function mapStateToProps(state){return{mlbStats:state.mlb_stats,searchBar:state.search_bar,searchSection:state.search_section,sortName:state.sort_name,filterBar:state.filter_bar,filterSection:state.filter_section,currentList:state.CurrentList,opperator:state.opperator};};var mapDispatchToProps={};var HomeContainer=connect(mapStateToProps,mapDispatchToProps)(Home);export default HomeContainer;","map":{"version":3,"sources":["/Users/willweatherman/gs-accessing-mongodb-data-rest/ui/src/components/home.js"],"names":["React","connect","store","useHistory","deleteTeam","random","Math","Filter","stats","filterSection","filterBar","searchSection","searchBar","currentList","opperator","toString","replace","filter","team","number","toLowerCase","eval","regex","RegExp","match","Sort","state","sortName","sort","a","b","standings","batting","pitching","fielding","genFields","mlbStats","currSection","info","Object","entries","map","keyValue","concat","currentlist","obj","Teams","mlbData","i","counter","ChangeSort","y","backgroundColor","TrashCans","TeamObj","e","Delete","Options","mlbstats","arrayOfHtml","unshift","push","SearchBar","dispatch","type","text","target","value","SearchSection","section","FilterBar","FilterSection","ChangeOperator","oper","ChangeList","newList","sortedState","_links","self","href","alert","name","Home","props","history","filteredState","length","isNaN","key","preventDefault","mapStateToProps","mlb_stats","search_bar","search_section","sort_name","filter_bar","filter_section","CurrentList","mapDispatchToProps","HomeContainer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../stylesheets/home.css';\nimport { connect } from 'react-redux';\nimport store from \"../store\";\nimport { useHistory } from \"react-router-dom\";\nimport { deleteTeam } from '../api'\n\nfunction random() {\n    return Math.random();\n}\n\n\n// Functions to limit the amount of teams displayed\nfunction Filter(stats, filterSection, filterBar, searchSection, searchBar, currentList, opperator) {\n    if (stats === []) return stats;\n    //filter...\n    filterBar = (filterBar === '' || filterBar === '0') ? 0 : filterBar.toString().replace(/^0+/, '');\n    stats = stats.filter(team => {\n        const number = team.stats[currentList.toLowerCase()][filterSection]\n        opperator = (opperator === '=') ? '===' : opperator\n        return eval((number + \" \" + opperator + \" \" + filterBar))\n    })\n    //search...\n    return stats.filter(team => {\n        const regex = new RegExp(searchBar, 'gi');\n        return team.team[searchSection.toLowerCase()].match(regex)\n    });\n}\nfunction Sort(state, sortName, currentList) {\n    if (state === []) return state;\n    state.sort((a, b) => {\n        if (sortName === \"city\" || sortName === \"name\" || sortName === \"abbreviation\" || sortName === \"officialLogoImageSrc\") return (a.team[sortName].toLowerCase() >= b.team[sortName].toLowerCase()) ? 1 : -1\n        if (currentList === \"Standings\") return (a.stats.standings[sortName] <= b.stats.standings[sortName]) ? 1 : -1\n        if (currentList === \"Batting\") return (a.stats.batting[sortName] <= b.stats.batting[sortName]) ? 1 : -1\n        if (currentList === \"Pitching\") return (a.stats.pitching[sortName] <= b.stats.pitching[sortName]) ? 1 : -1\n        if (currentList === \"Fielding\") return (a.stats.fielding[sortName] <= b.stats.fielding[sortName]) ? 1 : -1\n    })\n\n    return state\n}\n\n\n\n//Function to parse the mlb_stats and return a iterable list and objects\nfunction genFields(mlbStats, currSection) {\n    if (mlbStats == null) return {\"stats\": [], \"info\": []}\n    let stats = []\n    let info = []\n    Object.entries(mlbStats[0].team).map(keyValue => {\n        return stats = stats.concat(keyValue[0])\n    })\n    const currentlist = currSection.toLowerCase()\n    Object.entries(mlbStats[0].stats[currentlist]).map(keyValue => {\n        return stats = stats.concat(keyValue[0])\n    });\n    mlbStats.map(team => {\n        let obj = {};\n        Object.entries(team.team).map(keyValue => {\n            return obj[keyValue[0]] = keyValue[1]\n        });\n        Object.entries(team.stats[currentlist]).map(keyValue => {\n            return obj[keyValue[0]] = keyValue[1]\n        });\n        return info = info.concat(obj)\n    });\n    return {\"stats\": stats, \"info\": info}\n}\n\n\n\n//helper functions to display items on the page\nfunction Teams(mlbData, sortName) {\n    return mlbData.stats.map(i => {\n        let counter = 1\n        return (\n            <div key={random()} className=\"Column\">\n                <button onClick={() => {ChangeSort(i)}} className={\"contentButton \" + (sortName === i ? \"active\": \"\")}>\n                    {i}\n                </button>\n                {\n                    mlbData.info.map(y => {\n                        counter++\n                        return (\n                            <div key={random()} className=\"Field\" style={(counter % 2 === 0 ? {backgroundColor: \"gray\"} : {} )}>\n                                {\n                                    (i === \"officialLogoImageSrc\") ? <img alt=\"\" className=\"Image\" src={y[i]}/> : y[i]\n                                }\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        )\n    })\n}\nfunction TrashCans(state) {\n    let counter = 1\n    return state.map( TeamObj =>{\n        counter++\n        return (\n            <div key={random()} className=\"TrashCans Field\" style={(counter % 2 === 0 ? {backgroundColor: \"gray\"} : {} )}>\n                <i onClick={(e) => {Delete(e, TeamObj)}} className=\"Clickable fa fa-trash fa-2x\"></i>\n            </div>\n        )\n    })\n}\nfunction Options(mlbstats, currentList, filterSection) {\n    let arrayOfHtml = []\n    Object.entries(mlbstats[0].stats[currentList.toLowerCase()]).map(keyValue => {\n        if (keyValue[0] === filterSection) return arrayOfHtml.unshift(<option key={random()} value={keyValue[0]}>{keyValue[0]}</option>)\n        arrayOfHtml.push(<option key={random()} value={keyValue[0]}>{keyValue[0]}</option>)\n    })\n    return arrayOfHtml\n}\n\n\n//Functions that use the dispatch to the store\nfunction SearchBar(e) {\n    store.dispatch({type: \"UPDATE_SEARCH_BAR\", text: e.target.value})\n}\n\nfunction SearchSection(section) {\n    store.dispatch({type: \"UPDATE_SEARCH_SECTION\", text: section})\n}\n\nfunction FilterBar(e) {\n    store.dispatch({type: \"UPDATE_FILTER_BAR\", text: e.target.value})\n}\n\nfunction FilterSection(section) {\n    store.dispatch({type: \"UPDATE_FILTER_SECTION\", text: section})\n}\n\nfunction ChangeOperator(oper) {\n    store.dispatch({type: \"UPDATE_OPPERATOR\", text: oper})\n}\nfunction ChangeSort(i) {\n    store.dispatch({type: \"CHANGE_SORT\", sortName: i})\n}\nfunction ChangeList(newList, sortedState) {\n    store.dispatch({type: \"CHANGE_LIST\", text: newList})\n    store.dispatch({type: \"UPDATE_FILTER_SECTION\", text: Object.entries(sortedState[0].stats[newList.toLowerCase()])[0][0]})\n}\n\n//Helper function to delete a team\nfunction Delete(e, TeamObj) {\n    deleteTeam(TeamObj._links.self.href.replace(\"http://localhost:9000\", \"\"))\n    alert(\"Deleted Team \" + TeamObj.team.name)\n}\n\n\n\n// App.js\nfunction Home(props) {\n        let history = useHistory();\n        const filteredState = Filter(props.mlbStats, props.filterSection, props.filterBar, props.searchSection, props.searchBar, props.currentList, props.opperator)\n        const sortedState = Sort(filteredState, props.sortName, props.currentList)\n        return (\n            <div className=\"home\">\n                <div className=\"header\">\n\n               </div>\n                <button onClick={() => {history.push('/CreateTeam')}} className=\"formButton\">Create Team</button>\n                <div className=\"customContainer\">\n                    <div className=\"contentHeader\">\n                        <button onClick={() => {ChangeList(\"Standings\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Standings\" ? \"active\": \"\")}>Over View</button>\n                        <button onClick={() => {ChangeList(\"Batting\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Batting\" ? \"active\": \"\")}>Batting</button>\n                        <button onClick={() => {ChangeList(\"Pitching\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Pitching\" ? \"active\": \"\")}>Pitching</button>\n                        <button onClick={() => {ChangeList(\"Fielding\", props.mlbStats)}} className={\"contentButton \" + (props.currentList === \"Fielding\" ? \"active\": \"\")}>Fielding</button>\n                    </div>\n                    <div className=\"contentFilter\">\n                        <form className=\"Filter\">\n                            <div className=\"mx-auto form-row align-items-center\">\n                                <div className=\"col-lg-12 my-4\">\n                                    <div className=\"input-group mr-sm-2\">\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {SearchSection(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    <option value=\"city\" defaultValue>City</option>\n                                                    <option value=\"name\">Name</option>\n                                                    <option value=\"abbreviation\">Abbreviation</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <input onInput={(e) => {SearchBar(e)}}  type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <form className=\"Filter\">\n                            <div className=\"mx-auto form-row align-items-center\">\n                                <div className=\"col-lg-12 my-4\">\n                                    <div className=\"input-group mr-sm-2\">\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {FilterSection(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    {(props.mlbStats.length > 0) ? Options(props.mlbStats, props.currentList, props.filterSection) : null}\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div className=\"input-group-prepend\">\n                                            <div className=\"input-group-text\">\n                                                <select onChange={(e) => {ChangeOperator(e.target.value)}} className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\n                                                    <option value=\">\" defaultValue>{\">\"}</option>\n                                                    <option value=\"=\">=</option>\n                                                <option value=\"<\">{\"<\"}</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <input onKeyPress={(e) => {\n                                            if (isNaN(e.key)) e.preventDefault()\n                                        }} onInput={(e) => {FilterBar(e)}} type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername\" defaultValue=\"0\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div className=\"ColumnContainer\">\n                        {(sortedState.length > 0) ? Teams(genFields(sortedState, props.currentList), props.sortName) : null}\n                        <div className=\"Column\">\n                            <button className=\"contentButton\">\n                                Delete Team\n                            </button>\n                            {\n                                TrashCans(sortedState)\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n}\n\nconst mapStateToProps = state => ({\n    mlbStats: state.mlb_stats,\n    searchBar: state.search_bar,\n    searchSection: state.search_section,\n    sortName: state.sort_name,\n    filterBar: state.filter_bar,\n    filterSection: state.filter_section,\n    currentList: state.CurrentList,\n    opperator: state.opperator\n});\n\nconst mapDispatchToProps = {\n};\n\nconst HomeContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Home);\n\nexport default HomeContainer;\n"]},"metadata":{},"sourceType":"module"}